<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üêπ Hamster-Namengenerator - Einarmiger Bandit</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial Black', 'Arial Bold', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            text-align: center;
            max-width: 600px;
            width: 100%;
        }

        h1 {
            color: #fff;
            font-size: 2.5em;
            margin-bottom: 30px;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.3);
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { text-shadow: 3px 3px 6px rgba(0,0,0,0.3), 0 0 20px #fff; }
            to { text-shadow: 3px 3px 6px rgba(0,0,0,0.3), 0 0 30px #fff, 0 0 40px #ffeb3b; }
        }

        .slot-machine {
            background: linear-gradient(145deg, #d32f2f, #c62828);
            border: 8px solid #ffd700;
            border-radius: 30px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5), inset 0 0 20px rgba(255,215,0,0.3);
            position: relative;
            margin-bottom: 20px;
        }

        .slot-machine::before {
            content: '‚òÖ JACKPOT ‚òÖ';
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            color: #ffd700;
            font-size: 1.2em;
            letter-spacing: 3px;
            text-shadow: 0 0 10px #ffd700;
        }

        .slots-container {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 40px 0 30px 0;
        }

        .slot {
            background: linear-gradient(180deg, #1a1a1a, #000);
            border: 4px solid #ffd700;
            border-radius: 15px;
            width: 150px;
            height: 180px;
            overflow: hidden;
            position: relative;
            box-shadow: inset 0 0 30px rgba(0,0,0,0.8), 0 5px 15px rgba(0,0,0,0.5);
        }

        .slot-window {
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        .slot-reel {
            display: flex;
            flex-direction: column;
            position: absolute;
            width: 100%;
            top: 0;
        }

        .slot-item {
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            font-size: 1.1em;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
            padding: 0 10px;
            text-align: center;
            background: linear-gradient(180deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
        }

        .slot-item:nth-child(odd) {
            background: linear-gradient(180deg, rgba(255,215,0,0.2), rgba(255,215,0,0.1));
        }

        .winning-line {
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 60px;
            transform: translateY(-50%);
            border-top: 3px solid rgba(255, 215, 0, 0.5);
            border-bottom: 3px solid rgba(255, 215, 0, 0.5);
            pointer-events: none;
            z-index: 10;
        }

        .winning-line.jackpot {
            animation: winningGlow 0.5s ease-in-out infinite;
        }

        @keyframes winningGlow {
            0%, 100% {
                border-top: 3px solid rgba(255, 215, 0, 0.8);
                border-bottom: 3px solid rgba(255, 215, 0, 0.8);
                box-shadow: 0 0 20px #ffd700;
            }
            50% {
                border-top: 3px solid rgba(255, 215, 0, 1);
                border-bottom: 3px solid rgba(255, 215, 0, 1);
                box-shadow: 0 0 40px #ffd700;
            }
        }

        .lever-container {
            position: absolute;
            right: -60px;
            top: 50%;
            transform: translateY(-50%);
        }

        .lever {
            width: 30px;
            height: 150px;
            background: linear-gradient(90deg, #c0c0c0, #808080);
            border-radius: 15px;
            position: relative;
            cursor: pointer;
            transition: transform 0.3s;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .lever:hover:not(.disabled) {
            transform: scale(1.05);
        }

        .lever.pulled {
            animation: pull 0.5s ease-out;
        }

        .lever.disabled {
            cursor: not-allowed;
            opacity: 0.5;
        }

        @keyframes pull {
            0% { transform: rotate(0deg); }
            50% { transform: rotate(25deg); }
            100% { transform: rotate(0deg); }
        }

        .lever-ball {
            width: 50px;
            height: 50px;
            background: radial-gradient(circle at 30% 30%, #ff0000, #cc0000);
            border-radius: 50%;
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            box-shadow: 0 5px 15px rgba(0,0,0,0.5), inset -5px -5px 10px rgba(0,0,0,0.3);
        }

        .lever-ball::before {
            content: '';
            position: absolute;
            top: 8px;
            left: 12px;
            width: 15px;
            height: 15px;
            background: rgba(255,255,255,0.6);
            border-radius: 50%;
        }

        .result-display {
            background: linear-gradient(145deg, #2c2c2c, #1a1a1a);
            border: 4px solid #ffd700;
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: inset 0 0 20px rgba(0,0,0,0.5);
        }

        .result-display.jackpot {
            animation: jackpotPulse 0.5s ease-in-out infinite;
            background: linear-gradient(145deg, #ffd700, #ffed4e);
        }

        @keyframes jackpotPulse {
            0%, 100% { transform: scale(1); box-shadow: inset 0 0 20px rgba(0,0,0,0.5), 0 0 30px #ffd700; }
            50% { transform: scale(1.05); box-shadow: inset 0 0 20px rgba(0,0,0,0.5), 0 0 50px #ffd700; }
        }

        .result-text {
            color: #ffd700;
            font-size: 1.5em;
            font-weight: bold;
            text-shadow: 0 0 10px #ffd700, 2px 2px 4px rgba(0,0,0,0.8);
        }

        .result-display.jackpot .result-text {
            color: #c62828;
            font-size: 2em;
            text-shadow: 0 0 10px #fff, 2px 2px 4px rgba(0,0,0,0.8);
        }

        .button {
            background: linear-gradient(145deg, #4caf50, #45a049);
            border: none;
            color: white;
            padding: 15px 40px;
            font-size: 1.2em;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 8px 15px rgba(0,0,0,0.3);
            transition: all 0.3s;
            margin-top: 20px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .button:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 12px 20px rgba(0,0,0,0.4);
        }

        .button:active:not(:disabled) {
            transform: translateY(0);
            box-shadow: 0 5px 10px rgba(0,0,0,0.3);
        }

        .button:disabled {
            background: linear-gradient(145deg, #999, #777);
            cursor: not-allowed;
            transform: none;
        }

        .coins {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1.2em;
            color: #ffd700;
            font-weight: bold;
            text-shadow: 0 0 10px #ffd700;
        }

        .info-text {
            color: #fff;
            margin-top: 20px;
            font-size: 0.9em;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
        }

        .info-text.rule {
            font-size: 1.1em;
            margin-top: 10px;
            font-weight: bold;
            color: #ffeb3b;
        }

        .winner-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #ffd700;
            animation: confetti-fall 3s linear;
        }

        @keyframes confetti-fall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 1.8em;
            }

            .slot-machine {
                padding: 30px 20px;
            }

            .slot {
                width: 100px;
                height: 150px;
            }

            .slot-item {
                font-size: 0.9em;
                height: 50px;
            }

            .winning-line {
                height: 50px;
            }

            .lever-container {
                right: -40px;
            }

            .lever {
                width: 20px;
                height: 120px;
            }

            .lever-ball {
                width: 40px;
                height: 40px;
            }

            .result-text {
                font-size: 1.2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üêπ Hamster-Namengenerator üêπ</h1>

        <div class="slot-machine">
            <div class="slots-container">
                <div class="slot">
                    <div class="winning-line" id="winLine1"></div>
                    <div class="slot-window">
                        <div class="slot-reel" id="reel1"></div>
                    </div>
                </div>
                <div class="slot">
                    <div class="winning-line" id="winLine2"></div>
                    <div class="slot-window">
                        <div class="slot-reel" id="reel2"></div>
                    </div>
                </div>
                <div class="slot">
                    <div class="winning-line" id="winLine3"></div>
                    <div class="slot-window">
                        <div class="slot-reel" id="reel3"></div>
                    </div>
                </div>
            </div>

            <div class="lever-container">
                <div class="lever" id="lever">
                    <div class="lever-ball"></div>
                </div>
            </div>

            <div class="coins">ü™ô Viel Gl√ºck! ü™ô</div>
        </div>

        <div class="result-display" id="resultDisplay">
            <div class="result-text" id="result">Ziehen Sie am Hebel!</div>
        </div>

        <button class="button" id="spinButton">Namen Ziehen!</button>

        <p class="info-text rule">
            üé∞ JACKPOT = Alle 3 gleich! üé∞
        </p>
        <p class="info-text">
            Klicken Sie auf den Hebel oder den Button, um zu spielen!
        </p>
    </div>

    <div class="winner-animation" id="winnerAnimation"></div>

    <script>
        const hamsterNames = ["Fl√∂ckchen", "Kr√ºmel", "Nussbert", "Fips", "Wusel", "Knabberich", "Moppelchen", "Puschel", "Knirps", "Schnuffi", "Luna", "Nala", "Lilly", "Mimi", "Bella", "Daisy", "Cookie", "Lotte", "Resi", "Amicelli", "Max", "Leo", "Bruno", "Theo", "Fridolin", "Rocky", "Elvis", "Obelix", "Speedy", "Bilbo", "Professor Kr√ºmel", "Sir Nagerlot", "Hamzilla", "Flitzpiepe", "Sir Fuzzy", "Winston Whiskers", "Hammy McHamsterface", "Marshmallow", "Peanut", "Muffin", "Cupcake", "Honey", "Toffee", "Cinnamon", "Biscuit", "Popcorn", "Cheerio", "Pumpkin", "Pepper", "Chili", "Creamy", "Wuschel", "Zottel", "Flecki", "Nibbles", "Gizmo", "Whiskers", "Fuzzy", "Squeaky", "Patches", "Buttons", "Snickers", "Twix", "Oreo", "Brownie", "Mocha", "Caramel", "Cappuccino", "Espresso", "Latte", "Cocoa", "Truffle", "Hammy Potter", "Chewbacca", "Yoda", "Gandalf", "Frodo", "Pippin", "Merry", "Samwise", "Legolas", "Valiant", "Zephyr", "Quixote", "Galileo", "Leonardo", "Maximus", "Amigo", "Amore", "Flauschi", "Knuddel", "Schnucki", "S√º√üling", "Zuckerschnute", "Herzchen", "Liebling", "Sch√§tzchen", "Chip", "Dale", "Stuart", "Jerry", "Remy", "Splinter", "Speedy Gonzales", "Mickey", "Nugget", "Tofu", "Sushi", "Mochi", "Wasabi", "Ginger", "Sesam", "Quinoa", "Pixel", "Nano", "Mikro", "Mini", "Winzig", "Zwerg", "L√ºtt", "Kurz", "Socke", "Knopf", "Kuller", "Purzel", "Kullerkeks", "Pummelchen", "Dickerchen", "Wonneproppen", "Turbo", "Blitz", "Sprint", "Racer", "Flash", "Zoom", "D√ºse", "Sause", "Schlafm√ºtze", "Tr√§umer", "Penner", "D√∂ser", "Kuschel", "Schnarch", "G√§hn", "Nussknacker", "Hamsterb√§ckchen", "Backentasche", "Knabbi", "Nager", "M√ºmmler", "Mampf", "Sherlock", "Watson", "Einstein", "Newton", "Tesla", "Edison", "Darwin", "Schoko", "Nougat", "Vanille", "Erdbeer", "Banane", "Kirsch", "Apfel", "Kiwi", "Mango", "Papaya", "Ananas", "Melone", "Beere", "Pflaume", "Zeus", "Apollo", "Athena", "Hera", "Poseidon", "Hermes", "Artemis", "Thor", "Loki", "Odin", "Freya", "Baldur", "Heimdall", "Frigg", "Romeo", "Julia", "Hamlet", "Ophelia", "Othello", "Desdemona", "Macbeth", "Mozart", "Beethoven", "Bach", "Chopin", "Vivaldi", "Wagner", "Verdi", "Picasso", "Monet", "Van Gogh", "Rembrandt", "Michelangelo", "Raphael", "Botticelli", "Shakespeare", "Goethe", "Schiller", "Kafka", "Hemingway", "Tolkien", "Rowling", "Pikachu", "Squirtle", "Charmander", "Bulbasaur", "Eevee", "Jigglypuff", "Snorlax", "Mario", "Luigi", "Peach", "Yoshi", "Bowser", "Toad", "Wario", "Sonic", "Tails", "Knuckles", "Shadow", "Amy", "Rouge", "Silver", "Link", "Zelda", "Ganondorf", "Navi", "Epona", "Sheik", "Midna", "Kirby", "Dedede", "Meta Knight", "Waddle Dee", "Star", "Dream"];

        let audioContext;
        let spinning = false;

        function initAudio() {
            if (!audioContext) {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
            }
        }

        function playSound(frequency, duration, type = 'sine') {
            if (!audioContext) return;
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            oscillator.frequency.value = frequency;
            oscillator.type = type;
            gainNode.gain.setValueAtTime(0.15, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + duration);
        }

        function playTickSound() {
            playSound(300, 0.05, 'square');
        }

        function playStopSound() {
            playSound(450, 0.15, 'sine');
        }

        function playJackpotSound() {
            const notes = [523, 659, 784, 1047];
            notes.forEach((note, index) => {
                setTimeout(() => playSound(note, 0.3, 'sine'), index * 150);
            });
        }

        function playNoWinSound() {
            playSound(200, 0.3, 'sawtooth');
        }

        // Initialisiere Reels mit zuf√§lligen Namen
        function initializeReels() {
            ['reel1', 'reel2', 'reel3'].forEach(reelId => {
                const reel = document.getElementById(reelId);
                reel.innerHTML = '';

                for (let i = 0; i < 40; i++) {
                    const item = document.createElement('div');
                    item.className = 'slot-item';
                    item.textContent = hamsterNames[Math.floor(Math.random() * hamsterNames.length)];
                    reel.appendChild(item);
                }
            });
        }

        function spinReel(reelId, stopDelay, finalName) {
            return new Promise(resolve => {
                const reel = document.getElementById(reelId);
                const items = reel.querySelectorAll('.slot-item');
                const itemHeight = 60;
                const numItems = items.length;

                // SCHL√úSSEL-TRICK: Setze den finalen Namen an mehrere Positionen
                // am Ende der Liste, sodass er GARANTIERT sichtbar ist
                const targetPositions = [numItems - 5, numItems - 4, numItems - 3];
                targetPositions.forEach(pos => {
                    items[pos].textContent = finalName;
                });

                let position = 0;
                let speed = 3;
                const maxSpeed = 20;
                let timeElapsed = 0;
                let tickCount = 0;

                // Ziel: Stoppe bei numItems - 4 (mittlere Position wo der Name ist)
                const targetIndex = numItems - 4;
                const targetPosition = (targetIndex * itemHeight) - 60;

                const interval = setInterval(() => {
                    timeElapsed += 50;
                    tickCount++;

                    // Beschleunigen (erste 800ms)
                    if (timeElapsed < 800) {
                        speed = 3 + (maxSpeed - 3) * (timeElapsed / 800);
                    }
                    // Volle Geschwindigkeit
                    else if (timeElapsed < stopDelay - 3000) {
                        speed = maxSpeed;
                    }
                    // Abbremsen (letzte 3000ms)
                    else {
                        const decelerationTime = timeElapsed - (stopDelay - 3000);
                        const decelerationProgress = decelerationTime / 3000;

                        // Quadratische Deceleration
                        const easeFactor = 1 - (decelerationProgress * decelerationProgress);
                        speed = maxSpeed * easeFactor;
                        speed = Math.max(0.5, speed); // Minimum 0.5px
                    }

                    // Stoppen wenn Zeit abgelaufen
                    if (timeElapsed >= stopDelay) {
                        clearInterval(interval);
                        // Pr√§zise auf Zielposition setzen
                        reel.style.top = -targetPosition + 'px';
                        playStopSound();
                        resolve(finalName);
                        return;
                    }

                    // Bewege die Walze
                    position += speed;

                    // Setze Position (kein Wrap-around mehr n√∂tig, da wir genug Items haben)
                    reel.style.top = -position + 'px';

                    // Sound
                    if (tickCount % 7 === 0 && speed > 10) {
                        playTickSound();
                    }

                }, 50);
            });
        }

        async function spin() {
            if (spinning) return;

            initAudio();
            spinning = true;
            document.getElementById('spinButton').disabled = true;
            document.getElementById('lever').classList.add('disabled');
            document.getElementById('result').textContent = 'üé∞ Die Walzen drehen... üé∞';
            document.getElementById('resultDisplay').classList.remove('jackpot');

            ['winLine1', 'winLine2', 'winLine3'].forEach(id => {
                document.getElementById(id).classList.remove('jackpot');
            });

            const lever = document.getElementById('lever');
            lever.classList.add('pulled');
            setTimeout(() => lever.classList.remove('pulled'), 500);

            // 10% Jackpot-Chance
            const isJackpot = Math.random() < 0.1;
            let finalNames;

            if (isJackpot) {
                const jackpotName = hamsterNames[Math.floor(Math.random() * hamsterNames.length)];
                finalNames = [jackpotName, jackpotName, jackpotName];
            } else {
                finalNames = [
                    hamsterNames[Math.floor(Math.random() * hamsterNames.length)],
                    hamsterNames[Math.floor(Math.random() * hamsterNames.length)],
                    hamsterNames[Math.floor(Math.random() * hamsterNames.length)]
                ];
                while (finalNames[0] === finalNames[1] && finalNames[1] === finalNames[2]) {
                    finalNames[2] = hamsterNames[Math.floor(Math.random() * hamsterNames.length)];
                }
            }

            // Vor jedem Spin: Reels neu initialisieren
            initializeReels();

            // Spinne Reels
            const results = await Promise.all([
                spinReel('reel1', 5000, finalNames[0]),
                spinReel('reel2', 7000, finalNames[1]),
                spinReel('reel3', 9000, finalNames[2])
            ]);

            if (results[0] === results[1] && results[1] === results[2]) {
                showJackpot(results[0]);
            } else {
                showResult(results);
            }

            spinning = false;
            document.getElementById('spinButton').disabled = false;
            document.getElementById('lever').classList.remove('disabled');
        }

        function showJackpot(name) {
            const resultDiv = document.getElementById('result');
            const resultDisplay = document.getElementById('resultDisplay');

            resultDiv.innerHTML = `üéä JACKPOT! üéä<br><strong>${name}</strong>`;
            resultDisplay.classList.add('jackpot');

            ['winLine1', 'winLine2', 'winLine3'].forEach(id => {
                document.getElementById(id).classList.add('jackpot');
            });

            playJackpotSound();
            createConfetti();
        }

        function showResult(names) {
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = `${names[0]} - ${names[1]} - ${names[2]}<br><small>Kein Jackpot, aber tolle Namen! Nochmal?</small>`;
            playNoWinSound();
        }

        function createConfetti() {
            const colors = ['#ffd700', '#ff6b6b', '#4ecdc4', '#45b7d1', '#f7b731', '#5f27cd', '#ff9ff3'];
            const container = document.getElementById('winnerAnimation');

            for (let i = 0; i < 100; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.width = (Math.random() * 10 + 5) + 'px';
                    confetti.style.height = (Math.random() * 10 + 5) + 'px';
                    confetti.style.animationDuration = (Math.random() * 2 + 2) + 's';
                    container.appendChild(confetti);

                    setTimeout(() => confetti.remove(), 4000);
                }, i * 20);
            }
        }

        document.getElementById('spinButton').addEventListener('click', spin);
        document.getElementById('lever').addEventListener('click', (e) => {
            if (!e.target.closest('.lever').classList.contains('disabled')) {
                spin();
            }
        });

        window.addEventListener('load', initializeReels);
    </script>
</body>
</html>
